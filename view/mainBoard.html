<include href="view/header.html"/>
<script src="assets/audiosynth.js"></script>
<div class="container">
		<div class="row">
			<repeat group="{{@firstOctave}}" key="{{ @noteID }}" value="{{ @note }}">
			<div class="col-sm-1" style="margin: 0px 0px 0px 0px;">
				<check if='{{ substr(@note, -1) == "#"}}'> <!--If the key is sharp -->
					<true>
						<button type="button" class="btn btn-dark" style=" width: 100%; margin: 0px 0px 0px 0px;"
								name="{{ @currentOctave }}" value="{{ @note }}" id = "{{@note}}"><p>{{@note}}</p><p>{{@noteID}}</p>
						</button>
					</true>
					<false>
						<button type="button" class="btn btn-light" style=" width: 100%; margin: 0px 0px 0px 0px;"
								name="{{ @currentOctave  }}" value="{{ @note }}" id = "{{@noteID}}"><p>{{@note}}</p><p>{{@noteID}}</p>
						</button>
					</false>
				</check>
			</div>
		</repeat>
		</div>
	<div class="row">
		<repeat group="{{@secondOctave}}" key="{{ @noteID }}" value="{{ @note }}">
			<div class="col-sm-1" style="margin: 0px 0px 0px 0px;">
				<check if='{{ substr(@note, -1) == "#"}}'> <!--If the key is sharp -->
					<true>
						<button type="button" class="btn btn-dark" style=" width: 100%; margin: 0px 0px 0px 0px;"
								name="{{ @currentOctave +1 }}" value="{{ @note }}" id = "{{@noteID}}"><p>{{@note}}</p><p>{{@noteID}}</p>
						</button>
					</true>
					<false>
						<button type="button" class="btn btn-light" style=" width: 100%; margin: 0px 0px 0px 0px;"
								name="{{ @currentOctave +1 }}" value="{{ @note }}" id = "{{@noteID}}"><p>{{@note}}</p><p>{{@noteID}}</p>
						</button>
					</false>
				</check>
			</div>
		</repeat>
	</div>

</div>
<script type="text/javascript">
    var piano = Synth.createInstrument('piano');


    $("button").click(function () {
        var octave = $(this).attr('name');
	    piano.play($(this).attr('value'), octave);

    });

    $(document).keydown(function (event) {

    });

    $(document).keyup(function (event) {

    });

    $(document).keypress(function (event) {
        //alert(String.fromCharCode(event.keyCode));
		if(String.fromCharCode(event.keyCode) == '-' && octave > 1){
			octave-=1;
		}
		else if (String.fromCharCode(event.keyCode) == '=' && octave < 8){
		    octave++;
		}
		$("#"+String.fromCharCode(event.keyCode)).click();

    });

</script>
<include href="view/footer.html"/>