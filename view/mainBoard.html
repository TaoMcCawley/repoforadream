<include href="view/header.html"/>
<script src="assets/audiosynth.js"></script>
<div class="container">
	<div class="row mt-3">
		<repeat group="{{@firstOctave}}" key="{{ @noteID }}" value="{{ @note }}">
			<div class="col-sm-1" style="margin: 0px 0px 0px 0px;">
				<check if='{{ substr(@note, -1) == "#"}}'> <!--If the key is sharp -->
					<true>
						<button type="button" class="note lower btn btn-dark w-100 m-0"
						        name="{{ @currentOctave }}" value="{{ @note }}" id="{{@noteID}}"><p>{{@note}}</p>
							<p>{{@noteID}}</p>
						</button>
					</true>
					<false>
						<button type="button" class="note lower btn btn-light w-100 m-0"
						        name="{{ @currentOctave }}" value="{{ @note }}" id="{{@noteID}}"><p>{{@note}}</p>
							<p>{{@noteID}}</p>
						</button>
					</false>
				</check>
			</div>
		</repeat>
	</div>
	<div class="row mt-3">
		<repeat group="{{@secondOctave}}" key="{{ @noteID }}" value="{{ @note }}">
			<div class="col-sm-1" style="margin: 0px 0px 0px 0px;">
				<check if='{{ substr(@note, -1) == "#"}}'> <!--If the key is sharp -->
					<true>
						<button type="button" class="note upper btn btn-dark w-100 m-0"
						        name="{{ @currentOctave +1 }}" value="{{ @note }}" id="{{@noteID}}"><p>{{@note}}</p>
							<p>{{@noteID}}</p>
						</button>
					</true>
					<false>
						<button type="button" class="note upper btn btn-light w-100 m-0"

						        name="{{ @currentOctave +1 }}" value="{{ @note }}" id="{{@noteID}}"><p>{{@note}}</p>
							<p>{{@noteID}}</p>
						</button>
					</false>
				</check>
			</div>
		</repeat>
	</div>
	<div class="row p-3">
		<div class="btn-group col-12" role="group" aria-label="Basic example">

			<button class="col-4 btn btn-secondary" id="record"><img class="p-2" src="assets/power-button.png"
			                                                         alt="Record"/>
			</button>
			<button class="col-4 btn btn-secondary" id="play"><img class="p-2" src="assets/play-button.png"
			                                                       alt="Play"/>
			</button>
			<button class="col-4 btn btn-secondary" id="stop"><img class="p-2" src="assets/stop-button.png"
			                                                       alt="Stop"/>
			</button>
		</div>
	</div>
	<div class="row align-items-center">
		<label class="ml-auto" for="songName">Song Name: </label>
		<input class="m-5" type="text" name="songName" id="songName"/>
		<button class="btn btn-primary col-3 mr-auto" id="savesong" name="savesong">Save</button>
	</div>
	<div class="row border-bottom border-dark">
		<div class="col-6 border-right border-dark">
			<h4>PLAYBACK INSTRUCTIONS</h4>
		</div>
		<div class="col-6 text-center">
			<h4 class="">SAVED SONGS</h4>
		</div>
	</div>
	<div class="row">
		<div class="col-6 pr-0 pl-0">
			<ul class="list-group list-group-flush border-right border-dark">
				<li class="list-group-item">Power button: Starts/Stops recording.</li>
				<li class="list-group-item">Play button: Plays the recorded song.</li>
				<li class="list-group-item">Stop button: Stops the song that's playing.</li>
				<li class="list-group-item">Saving Songs: To save a song, it must be recorded and there must be a name
					entered.
				</li>
				<li class="list-group-item">Increase/Decrease Octave: Press '+' or '-' to go up or down an octave.</li>
			</ul>
		</div>
		<div class="col-6 pl-0">
			<ul id="savedSongs" class="list-group list-group-flush">
				<li class="list-group-item">
					<repeat group="{{ @songs }}" key="{{ @num }}" value="{{ @song }}">
						<check if="{{ @num % 2 == 1}}">
							<true>
								<button class="song btn float-right mr-5 col-3" value="{{ trim(@song->getContent()) }}">
									{{ @song->getName() }}
								</button>
								</li><li class="list-group-item">
							</true>
							<false>
								<button class="song btn float-left ml-5 col-3" value="{{ trim(@song->getContent()) }}">
									{{ @song->getName() }}
								</button>
							</false>
						</check>
					</repeat>
				</li>
			</ul>
		</div>
	</div>
	<div hidden>Icons made by <a href="https://www.flaticon.com/authors/chanut" title="Chanut">Chanut</a> from <a
			href="https://www.flaticon.com/" title="Flaticon">www.flaticon.com</a> is licensed by <a
			href="http://creativecommons.org/licenses/by/3.0/" title="Creative Commons BY 3.0" target="_blank">CC 3.0
		BY</a></div>

</div>
<script type="text/javascript">
    var lower = {{@currentOctave}}; // Lower octave being played
    var loggedIn = {{ @loggedIn}}; // User logged in status
</script>
<script type="text/javascript" src="scripts/functionality.js"></script>
<include href="view/footer.html"/>